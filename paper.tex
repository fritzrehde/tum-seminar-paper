\documentclass[sigplan,11pt,nonacm]{acmart}
\settopmatter{printfolios}

\usepackage{booktabs} % For formal tables
\usepackage{subcaption}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\usepackage{hyphenat}
\usepackage{todonotes}
\usepackage[babel]{csquotes}
\usepackage{listings}
\lstset{frame=tb,
  language=Rust,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=none,
  numberstyle=\tiny\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3
}


\begin{document}
\title{Ownership types in theory and practice (in Rust)}
\author{Fritz Rehde}
\affiliation{%
  \institution{Technical University of Munich}
}
\email{fritz.rehde@tum.de}

\begin{abstract}
% Abstract: Brief summary of area, problem, approach, key result

% - why do we need ownership types, what do they do?

Object aliasing is the concept of accessing the same memory through different symbolic names in object-oriented programming languages.
Many progamming bugs are created through unintentional aliases, which are hard to detect and can lead to unexpected side-effects.
Ownership types are one solution that attempt to prevent many alias-related bugs.
The premise of ownership types is that not only the fields of an object are protected from external access, but also all objects stored in those fields.
This is done by allowing objects to take ownership of other objects.
% TODO: add citation\cite{ownership-types-survey}

This paper depicts the different kinds of ownership types and explains how the modern programming language Rust uses ownership types to garantue memory safety.

\end{abstract}

\keywords{Ownership, Type, Safety, Rust}

\maketitle

\section{Introduction}
\label{sec:introduction}
% Introduction: introduce area, problem, approach, key results, contributions, outline

% TODO: write something

\section{Background}
\label{sec:background}
% Background: if needed, describe prerequisites

One of the main goals of ownership types is to improve memory safety.
Understanding memory-related bugs will, therefore, help in understanding why ownership types are useful.

\subsection{Memory Safety}

% source: Definition of memory safety\cite{memory1}.
% source: Why memory safery is important\cite{nsa-memory-safety}.

Memory safety is defined as ...

\subsection{Domain specific terms}

In the following, some terms that commonly used throughout this paper are explained.
The core concept of ownership types is that objects can be \emph{owners} of other objects.
Given objects \emph{a} and \emph{b}, \emph{a} is \emph{inside} \emph{b} if \emph{a} is the same object as \emph{b} or \emph{a} is owned by \emph{b}, transitively.
The \emph{outside} relation is the converse of the \emph{inside} relation.

In most ownership types variants, the heap is divided into different regions called ownership contexts.
Each object has one single ownership context, which is the set of all objects it owns.
Objects that are in the same ownership context are called \emph{siblings} or \emph{peers}.
\cite{ownership-types-survey}

\subsection{State of the art}

% - when/in which language first introduced?
% - why slow adoption?


Potential solutions to the aliasing problem include banning aliases altogether, clearly advertising aliases or managing and controlling its effects\cite{ownership-types-survey}.
Many different flavours of ownership types have been explored.
In this paper, state of the art implementations of the ownership type concept such as owners-as-dominators, owners-as-modifiers and owners-as-ombudsmen will be explored further.
These approaches differ in how what kind of, if any, aliases they allow.
\cite{ownership-types-survey}


\section{Main part}
\label{sec:mainpart}
% Main part (approach, evaluation, discussion, etc.)

\subsection{Ownership types in theory}


% TODO: second source to provide more detail of each owners-as-...
% TODO: find more varied words to classify these approaches as: principle, approach, model

\subsubsection{Owners-as-dominators}

One such flavour is the owners-as-dominators\cite{ownership-types-survey} invariant, where the heap is structured as a tree with each object being inside its owner.
External access is therefore only possible through the owner.
The rules that must be fulfilled for \emph{a} to validly reference \emph{b} are that either \emph{a} is owned by \emph{b}, \emph{a} and \emph{b} are siblings or \emph{b} is outside \emph{a}.
% TODO: more detail

The owners-as-dominators principle provides a simple, clear and strong guarantee, but makes programming more difficult by not allowing common idioms through aliasing.
\cite{ownership-types-survey}


\subsubsection{Owners-as-modifiers}

Another kind is the owners-as-modifiers model, which is a weaker form of owners-as-dominators that additionally allows read-only references.
A read-only reference can only be used to read files and call pure methods, which may not modify any existing objects.
In essence, aliasing is unrestricted, but only the owner of an object can modify it.
% TODO: unclear sentence structure
Owners-as-modifiers extend the rules specified for owners-as-dominators.
If none of the rules that were specified for owners-as-dominators are adhered to, for \emph{a} to validly reference \emph{b} through reference \emph{r}, \emph{r} has to be a read-only reference and only pure methods can be called on it.
% TODO: more detail

The owners-as-modifiers principle expands the programming possibilities of the owners-as-modifiers principle and fulfills the requirements of verification of object-oriented programs.

\cite{ownership-types-survey}


\subsubsection{Owners-as-ombudsmen}

% TODO: definition of ombudsmen for context
A last flavour of ownership types is the owners-as-ombudsmen approach, which allows idioms that do not adhere to the strong topological structure of a tree structure to be implemented.
% TODO: examples
This is achieved by allowing multiple objects to define a shared aggregate owner.
% TODO: what is aggregate owner
In addition to the rules stated for owners-as-dominators, \emph{a} has to be owned by aggregate owner \emph{b} for \emph{a} to validly reference \emph{b} through reference \emph{r}.


\cite{ownership-types-survey}

\subsection{Implementation in Rust}


\subsection{Practical examples using Rust}
% - show common Rust ownership errors
% - Protection against memory vulnerabilitie examples
% - reference: \cite{rust-by-example}


\subsection{Alternatives}
% - comparison to alternative type systems without ownership (C/C++: none at all, Java: garbage collection)
% - choose non-ownership programming language e.g. C++20
% - compare code examples
% - compile time differences between Rust and non-ownership lang
% - runtime differences between Rust and non-ownership lang


\section{Related work}
\label{sec:relatedwork}
% (In a paper: Related Work â€“ might come before main part)


\section{Summary \& Outlook}
\label{sec:summary}



\bibliographystyle{ACM-Reference-Format}
\bibliography{paper} % read paper.bib file

\end{document}
